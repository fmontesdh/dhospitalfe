<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h2>{{ title }}</h2>
</div>
<form #doctorForm="ngForm" (ngSubmit)="saveDoctor(doctorForm.value)">
    <div class="mb-3">
        <label for="nombre" class="form-label">Nombre:</label>
        <input id="nombre" name="nombre" type="text" class="form-control" 
                required #nombre="ngModel"
                [(ngModel)]="doctor.nombre">
        <div class="alert alert-danger" *ngIf="nombre.touched && !nombre.valid">
            <div *ngIf="nombre.errors && nombre.errors['required']">Nombre es requerido.</div>
        </div>
    </div>
    <div class="mb-3">
        <label for="apellido" class="form-label">Apellido:</label>
        <input id="apellido" name="apellido" type="text" class="form-control" 
                required #apellido="ngModel"
                [(ngModel)]="doctor.apellido">
        <div class="alert alert-danger" *ngIf="apellido.touched && !apellido.valid">
            <div *ngIf="apellido.errors && apellido.errors['required']">Apellido es requerido.</div>
        </div>
    </div>
    <div class="mb-3">
        <label for="fechaNacimiento" class="form-label">Fecha de nacimiento:</label>
        <input id="fechaNacimiento" name="fechaNac" type="date" class="form-control"
                required #fechaNacimiento="ngModel"
                [(ngModel)]="doctor.fechaNacimiento">
        <div class="alert alert-danger" *ngIf="fechaNacimiento.touched && !fechaNacimiento.valid">
            <div *ngIf="fechaNacimiento.errors && fechaNacimiento.errors['required']">Fecha de nacimiento es requerido.</div>
        </div>
    </div>
    <div class="mb-3">
        <label for="direccion" class="form-label">Dirección</label>
        <input id="direccion" name="direccion" type="text" class="form-control" 
                required #direccion="ngModel"
                [(ngModel)]="doctor.direccion">
        <div class="alert alert-danger" *ngIf="direccion.touched && !direccion.valid">
            <div *ngIf="direccion.errors && direccion.errors['required']">Dirección es requerido.</div>
        </div>
    </div>
    <div class="mb-3">
        <label for="hospital_id" class="form-label">Hospital:</label>
        <select id="hospital_id" name="hospital_id" class="custom-select" 
                [(ngModel)]="doctor.hospital_id">
            <option *ngFor="let hospital of hospitalList" [value]="hospital.id">
                {{ hospital.nombre }}
            </option>
        </select>
    </div>
    <div class="mb-3">
        <label for="especialidadSelect" class="form-label">Especialidades:</label>
        <select class="custom-select" multiple name="especialidadSelect"
                required #especialidades="ngModel"
                [(ngModel)]="especialidadSelectList">
            <option *ngFor="let esp of especialidadList" [ngValue]="esp.id">
                 {{ esp.nombre }}
            </option>
      </select> 
      <div class="alert alert-danger" *ngIf="especialidades.touched && !especialidades.valid">
        <div *ngIf="especialidades.errors && especialidades.errors['required']">Especialidad es requerido.</div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary" style="margin-right: 4px;"
            [disabled]="!doctorForm.valid">Guardar</button>
    <button type="button" class="btn btn-secondary" 
            [routerLink]="['/doctor/list']">Cancelar</button>
</form>